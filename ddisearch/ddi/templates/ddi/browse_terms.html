{% extends "site_base.html" %}
{# template to browse list of keywords or topics #}
{# OR browse documents by a single keyword or topic #}
{% load humanize %}

{% block page-subtitle %}| {{ label }}{% if term %} | {{ term }}{% endif %}{% endblock %}

{% block content %}
<div id="st-container">
    <div class="st-pusher">
        <aside class="st-menu st-effect-7" id="menu-7">
            <button class="btn btn-clear close">
                <span class="glyphicon glyphicon-remove-circle"></span>
            </button>
            <h2 class="icon icon-lab">Preview</h2>
            <section class="content"></section>
        </aside>
        <div class="st-content"><!-- this is the wrapper for the content -->
            <div class="main clearfix">
                <header class="grey">
                    <div class="container">
                        <h1>{{ label }}{% if term %} : {{ term }}{% endif %}</h1>
                    </div>
                </header>
                {# display resources matching a single term #}
                {% if term %}
                <div class="filter browse">
                    <div class="page-options">
                        <div class="container">
                            {% include 'ddi/snippets/search_options.html' %}  {# per page & sort #}

                        </div>
                    </div>
                </div>
                <div class="container">
                    {% include 'ddi/snippets/search_results.html' %}
                </div>
                {% else %} {# display list of keywords or topics #}
                <div class="container">
                    <div class="col-sm-8 col-md-6 col-lg-5 topic-list">
                        <div class="list-group">
                            {% for t in results.object_list %}
                            {# t.text / t.count for topics #}
                            {% if t.text and t.count %}
                            <a class="list-group-item" href="?{{ fltr }}={{ t.text|urlencode }}">
                                <span class='list-group-content'>{{ t.text }} </span>
                                <span class="badge">{{ t.count|intcomma }}</span>
                            </a>
                            {% else %} {# value only for keywords #}
                            <a class="list-group-item" href="?{{ fltr }}={{ t }}">
                                <span class='list-group-content'>{{ t }}</span>
                            </a>
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div><!-- /main -->
        </div><!-- /st-content-inner -->
    </div><!-- /st-content -->
</div><!-- /st-pusher -->
</div>
{% endblock %}